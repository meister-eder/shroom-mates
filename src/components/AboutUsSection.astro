---
import { getEntry, render } from 'astro:content';
import SvgHeading from "./SvgHeading.astro";

// Fetch the landing page content
const landingPageEntry = await getEntry('landing-page', 'content');

if (!landingPageEntry) {
  throw new Error('Could not find landing-page content');
}

const { Content } = await render(landingPageEntry);
const { aboutUsHeadingSvg, aboutUsTitle } = landingPageEntry.data;
---

<section class="section about-us" id="about">
  <div class="section-container about-container">
    <div class="about-content">
      <SvgHeading
        tag="h2"
        src={aboutUsHeadingSvg}
        alt={aboutUsTitle}
        class="about-us-heading"
      />
      <div class="about-text">
        <Content />
      </div>
    </div>
  </div>
</section>

<style>
  /* Component-specific overrides and styles */

  .about-us {
    /* Section base styles inherited from global .section */
  }

  .about-container {
    /* Container base styles inherited from global .section-container */
    display: flex;
    flex-direction: column;
    align-items: center;
    max-width: 800px;
    margin: 0 auto;
  }

  .about-content .about-us-heading {
    font-size: 2.5rem;
    color: var(--text-color);
    margin-bottom: 1rem;
    line-height: 1.2;
  }

  .about-text {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .about-text :global(p) {
    font-size: 1.1rem;
    line-height: 1.6;
    color: var(--text-color);
    margin: 0;
  }

  @media (max-width: 768px) {
    .about-content .about-us-heading {
      font-size: 2rem;
      text-align: center;
    }

    .about-text :global(p) {
      font-size: 1rem;
    }
  }

  @media (max-width: 480px) {
    .about-content .about-us-heading {
      font-size: 1.8rem;
    }
  }
</style>
